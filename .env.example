# SocialScaleBooster Multi-Tenant Configuration

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
DATABASE_URL=postgresql://username:password@localhost:5432/socialscalebooster

# =============================================================================
# STRIPE BILLING CONFIGURATION (REQUIRED for multi-tenant)
# =============================================================================

# Get these from: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_live_your_live_secret_key_here
STRIPE_PUBLISHABLE_KEY=pk_live_your_live_publishable_key_here

# Get this from: https://dashboard.stripe.com/webhooks
# Create endpoint: https://yourdomain.com/api/webhooks/stripe
# Select events: customer.subscription.*, invoice.payment_*
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_signing_secret_here

# =============================================================================
# JWT AUTHENTICATION (REQUIRED for multi-tenant)
# =============================================================================

# Generate a secure random string (at least 32 characters)
# You can use: openssl rand -base64 32
JWT_SECRET=your_super_secure_jwt_secret_key_minimum_32_characters

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================

# Your production domain
APP_URL=https://yourdomain.com

# Allowed origins for CORS
ALLOWED_ORIGINS=https://yourdomain.com,https://app.yourdomain.com

# Node environment
NODE_ENV=production

# Port (for local development)
PORT=3000

# =============================================================================
# EMAIL CONFIGURATION (Optional - for invitations)
# =============================================================================

# SMTP settings for sending team invitations
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password
EMAIL_FROM=noreply@yourdomain.com

# =============================================================================
# STRIPE PRODUCT/PRICE IDS (Update after creating in Stripe)
# =============================================================================

# Create these in Stripe Dashboard > Products
# After creating, update the IDs in shared/schema-multitenant.ts

# Starter Plan: ¬£29/month
STRIPE_STARTER_PRICE_ID=price_your_starter_price_id_here

# Pro Plan: ¬£99/month  
STRIPE_PRO_PRICE_ID=price_your_pro_price_id_here

# =============================================================================
# OPTIONAL INTEGRATIONS
# =============================================================================

# Social media API keys (for future features)
INSTAGRAM_CLIENT_ID=your_instagram_client_id
INSTAGRAM_CLIENT_SECRET=your_instagram_client_secret
TWITTER_API_KEY=your_twitter_api_key
TWITTER_API_SECRET=your_twitter_api_secret
FACEBOOK_APP_ID=your_facebook_app_id
FACEBOOK_APP_SECRET=your_facebook_app_secret

# Analytics (optional)
GOOGLE_ANALYTICS_ID=GA-XXXXXXXXX

# Error tracking (optional)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# =============================================================================
# DEVELOPMENT OVERRIDES
# =============================================================================

# For local development, you can override any of the above
# Create a .env.local file for local-specific settings

# Example for development:
# DATABASE_URL=postgresql://localhost:5432/socialscalebooster_dev
# STRIPE_SECRET_KEY=sk_test_your_test_key
# STRIPE_PUBLISHABLE_KEY=pk_test_your_test_key
# APP_URL=http://localhost:3000
# NODE_ENV=development

# =============================================================================
# CONFIGURATION CHECKLIST
# =============================================================================

# Before going live, ensure you have:
# ‚úÖ Updated DATABASE_URL to production database
# ‚úÖ Set Stripe keys to LIVE mode (sk_live_*, pk_live_*)
# ‚úÖ Created Stripe products and updated price IDs
# ‚úÖ Set up Stripe webhook endpoint
# ‚úÖ Generated secure JWT_SECRET
# ‚úÖ Updated APP_URL to your domain
# ‚úÖ Configured SMTP for email invitations (optional)

# =============================================================================
# QUICK SETUP GUIDE
# =============================================================================

# 1. Copy this file to .env:
#    cp .env.example .env

# 2. Update the values above with your actual configuration

# 3. Create Stripe products:
#    - Go to https://dashboard.stripe.com/products
#    - Create "Starter" product for ¬£29/month
#    - Create "Pro" product for ¬£99/month
#    - Copy the price IDs and update schema-multitenant.ts

# 4. Set up webhook:
#    - Go to https://dashboard.stripe.com/webhooks  
#    - Add endpoint: https://yourdomain.com/api/webhooks/stripe
#    - Select events: customer.subscription.*, invoice.payment_*
#    - Copy signing secret to STRIPE_WEBHOOK_SECRET

# 5. Generate JWT secret:
#    openssl rand -base64 32

# 6. Run database migration:
#    psql $DATABASE_URL -f migrations/001_add_multi_tenant.sql

# 7. Test the application:
#    npm run build && npm start

# =============================================================================
# SECURITY NOTES
# =============================================================================

# üîê IMPORTANT SECURITY CONSIDERATIONS:
# - Never commit .env files to git
# - Use strong, unique passwords for all services
# - Regenerate JWT_SECRET for production
# - Use HTTPS in production (secure cookie settings)
# - Regularly rotate API keys
# - Monitor Stripe webhook logs for suspicious activity
# - Set up rate limiting for API endpoints
# - Enable 2FA on all service accounts

# =============================================================================
# SUPPORT
# =============================================================================

# For configuration help:
# - Stripe docs: https://stripe.com/docs
# - PostgreSQL setup: https://www.postgresql.org/docs/
# - JWT best practices: https://auth0.com/blog/a-look-at-the-latest-draft-for-jwt-bcp/

# Questions? Contact: support@smartflowsystems.com